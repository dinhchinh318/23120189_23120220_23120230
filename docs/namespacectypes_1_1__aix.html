<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PHONE MANAGEMENT: ctypes._aix Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PHONE MANAGEMENT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacectypes.html">ctypes</a></li><li class="navelem"><a class="el" href="namespacectypes_1_1__aix.html">_aix</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ctypes._aix Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6ee7f62719293c3c92c771b4b7de6da6"><td class="memItemLeft" align="right" valign="top"><a id="a6ee7f62719293c3c92c771b4b7de6da6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_ld_header</b> (p)</td></tr>
<tr class="separator:a6ee7f62719293c3c92c771b4b7de6da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd6a4a13c13e9e5d6fb43f00b31b9bb"><td class="memItemLeft" align="right" valign="top"><a id="abcd6a4a13c13e9e5d6fb43f00b31b9bb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_ld_header_info</b> (p)</td></tr>
<tr class="separator:abcd6a4a13c13e9e5d6fb43f00b31b9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b9b42e4ce952e7b473455bc00cc3da"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#a50b9b42e4ce952e7b473455bc00cc3da">get_ld_headers</a> (file)</td></tr>
<tr class="separator:a50b9b42e4ce952e7b473455bc00cc3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a977fb1f180266911b432ec0f2f20eff5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#a977fb1f180266911b432ec0f2f20eff5">get_shared</a> (ld_headers)</td></tr>
<tr class="separator:a977fb1f180266911b432ec0f2f20eff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae385e96ff42e19a773cc12c86c7e39bc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#ae385e96ff42e19a773cc12c86c7e39bc">get_one_match</a> (expr, lines)</td></tr>
<tr class="separator:ae385e96ff42e19a773cc12c86c7e39bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190c75992e2e3b452264b8bac6d624c0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#a190c75992e2e3b452264b8bac6d624c0">get_legacy</a> (members)</td></tr>
<tr class="separator:a190c75992e2e3b452264b8bac6d624c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26bbf530550240b53da98f6176c7bc98"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#a26bbf530550240b53da98f6176c7bc98">get_version</a> (name, members)</td></tr>
<tr class="separator:a26bbf530550240b53da98f6176c7bc98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6920e10bbb7e7eb0fe4fafbf944baa7b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#a6920e10bbb7e7eb0fe4fafbf944baa7b">get_member</a> (name, members)</td></tr>
<tr class="separator:a6920e10bbb7e7eb0fe4fafbf944baa7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6172d42c022c3c4a23853a1a6e52306"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#ad6172d42c022c3c4a23853a1a6e52306">get_libpaths</a> ()</td></tr>
<tr class="separator:ad6172d42c022c3c4a23853a1a6e52306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b603d81068f58e19c9f24af1555ebbf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#a5b603d81068f58e19c9f24af1555ebbf">find_shared</a> (paths, name)</td></tr>
<tr class="separator:a5b603d81068f58e19c9f24af1555ebbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb38b75a9e5dcb5e284ba3347660ff6e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacectypes_1_1__aix.html#afb38b75a9e5dcb5e284ba3347660ff6e">find_library</a> (name)</td></tr>
<tr class="separator:afb38b75a9e5dcb5e284ba3347660ff6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5abe740d4c42b8f6ce3a92d313e150a3"><td class="memItemLeft" align="right" valign="top"><a id="a5abe740d4c42b8f6ce3a92d313e150a3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>AIX_ABI</b> = sizeof(<a class="el" href="classctypes_1_1c__void__p.html">c_void_p</a>) * 8</td></tr>
<tr class="separator:a5abe740d4c42b8f6ce3a92d313e150a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Lib/ctypes.util.find_library() support for AIX
Similar approach as done for Darwin support by using separate files
but unlike Darwin - no extension such as ctypes.macholib.*

dlopen() is an interface to AIX initAndLoad() - primary documentation at:
https://www.ibm.com/support/knowledgecenter/en/ssw_aix_61/com.ibm.aix.basetrf1/dlopen.htm
https://www.ibm.com/support/knowledgecenter/en/ssw_aix_61/com.ibm.aix.basetrf1/load.htm

AIX supports two styles for dlopen(): svr4 (System V Release 4) which is common on posix
platforms, but also a BSD style - aka SVR3.

From AIX 5.3 Difference Addendum (December 2004)
2.9 SVR4 linking affinity
Nowadays, there are two major object file formats used by the operating systems:
XCOFF: The COFF enhanced by IBM and others. The original COFF (Common
Object File Format) was the base of SVR3 and BSD 4.2 systems.
ELF:   Executable and Linking Format that was developed by AT&amp;T and is a
base for SVR4 UNIX.

While the shared library content is identical on AIX - one is located as a filepath name
(svr4 style) and the other is located as a member of an archive (and the archive
is located as a filepath name).

The key difference arises when supporting multiple abi formats (i.e., 32 and 64 bit).
For svr4 either only one ABI is supported, or there are two directories, or there
are different file names. The most common solution for multiple ABI is multiple
directories.

For the XCOFF (aka AIX) style - one directory (one archive file) is sufficient
as multiple shared libraries can be in the archive - even sharing the same name.
In documentation the archive is also referred to as the "base" and the shared
library object is referred to as the "member".

For dlopen() on AIX (read initAndLoad()) the calls are similar.
Default activity occurs when no path information is provided. When path
information is provided dlopen() does not search any other directories.

For SVR4 - the shared library name is the name of the file expected: libFOO.so
For AIX - the shared library is expressed as base(member). The search is for the
base (e.g., libFOO.a) and once the base is found the shared library - identified by
member (e.g., libFOO.so, or shr.o) is located and loaded.

The mode bit RTLD_MEMBER tells initAndLoad() that it needs to use the AIX (SVR3)
naming style.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="afb38b75a9e5dcb5e284ba3347660ff6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb38b75a9e5dcb5e284ba3347660ff6e">&#9670;&nbsp;</a></span>find_library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.find_library </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">AIX implementation of ctypes.util.find_library()
Find an archive member that will dlopen(). If not available,
also search for a file (or link) with a .so suffix.

AIX supports two types of schemes that can be used with dlopen().
The so-called SystemV Release4 (svr4) format is commonly suffixed
with .so while the (default) AIX scheme has the library (archive)
ending with the suffix .a
As an archive has multiple members (e.g., 32-bit and 64-bit) in one file
the argument passed to dlopen must include both the library and
the member names in a single string.

find_library() looks first for an archive (.a) with a suitable member.
If no archive+member pair is found, look for a .so file.
</pre> 
</div>
</div>
<a id="a5b603d81068f58e19c9f24af1555ebbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b603d81068f58e19c9f24af1555ebbf">&#9670;&nbsp;</a></span>find_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.find_shared </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>paths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">paths is a list of directories to search for an archive.
name is the abbreviated name given to find_library().
Process: search "paths" for archive, and if an archive is found
return the result of get_member().
If an archive is not found then return None
</pre> 
</div>
</div>
<a id="a50b9b42e4ce952e7b473455bc00cc3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b9b42e4ce952e7b473455bc00cc3da">&#9670;&nbsp;</a></span>get_ld_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_ld_headers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse the header of the loader section of executable and archives
This function calls /usr/bin/dump -H as a subprocess
and returns a list of (ld_header, ld_header_info) tuples.
</pre> 
</div>
</div>
<a id="a190c75992e2e3b452264b8bac6d624c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190c75992e2e3b452264b8bac6d624c0">&#9670;&nbsp;</a></span>get_legacy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_legacy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>members</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This routine provides historical aka legacy naming schemes started
in AIX4 shared library support for library members names.
e.g., in /usr/lib/libc.a the member name shr.o for 32-bit binary and
shr_64.o for 64-bit binary.
</pre> 
</div>
</div>
<a id="ad6172d42c022c3c4a23853a1a6e52306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6172d42c022c3c4a23853a1a6e52306">&#9670;&nbsp;</a></span>get_libpaths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_libpaths </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">On AIX, the buildtime searchpath is stored in the executable.
as "loader header information".
The command /usr/bin/dump -H extracts this info.
Prefix searched libraries with LD_LIBRARY_PATH (preferred),
or LIBPATH if defined. These paths are appended to the paths
to libraries the python executable is linked with.
This mimics AIX dlopen() behavior.
</pre> 
</div>
</div>
<a id="a6920e10bbb7e7eb0fe4fafbf944baa7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6920e10bbb7e7eb0fe4fafbf944baa7b">&#9670;&nbsp;</a></span>get_member()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_member </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>members</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return an archive member matching the request in name.
Name is the library name without any prefix like lib, suffix like .so,
or version number.
Given a list of members find and return the most appropriate result
Priority is given to generic libXXX.so, then a versioned libXXX.so.a.b.c
and finally, legacy AIX naming scheme.
</pre> 
</div>
</div>
<a id="ae385e96ff42e19a773cc12c86c7e39bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae385e96ff42e19a773cc12c86c7e39bc">&#9670;&nbsp;</a></span>get_one_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_one_match </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lines</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Must be only one match, otherwise result is None.
When there is a match, strip leading "[" and trailing "]"
</pre> 
</div>
</div>
<a id="a977fb1f180266911b432ec0f2f20eff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a977fb1f180266911b432ec0f2f20eff5">&#9670;&nbsp;</a></span>get_shared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_shared </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ld_headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">extract the shareable objects from ld_headers
character "[" is used to strip off the path information.
Note: the "[" and "]" characters that are part of dump -H output
are not removed here.
</pre> 
</div>
</div>
<a id="a26bbf530550240b53da98f6176c7bc98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26bbf530550240b53da98f6176c7bc98">&#9670;&nbsp;</a></span>get_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def ctypes._aix.get_version </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>members</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sort list of members and return highest numbered version - if it exists.
This function is called when an unversioned libFOO.a(libFOO.so) has
not been found.

Versioning for the member name is expected to follow
GNU LIBTOOL conventions: the highest version (x, then X.y, then X.Y.z)
 * find [libFoo.so.X]
 * find [libFoo.so.X.Y]
 * find [libFoo.so.X.Y.Z]

Before the GNU convention became the standard scheme regardless of
binary size AIX packagers used GNU convention "as-is" for 32-bit
archive members but used an "distinguishing" name for 64-bit members.
This scheme inserted either 64 or _64 between libFOO and .so
- generally libFOO_64.so, but occasionally libFOO64.so
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
